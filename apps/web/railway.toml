[build]
builder = "DOCKERFILE"
dockerfilePath = "docker/web.railway.Dockerfile"
watchPatterns = [
	"apps/web/**",
	"apps/server/convex/_generated/**",
	"bun.lock",
	"bunfig.toml",
	"docker/web.railway.Dockerfile",
	"package.json",
	"turbo.json",
]

[deploy]
startCommand = "HOST=0.0.0.0 PORT=${PORT:-3000} bun apps/web/.output/server/index.mjs"
healthcheckPath = "/"
healthcheckTimeout = 120
restartPolicyType = "always"
